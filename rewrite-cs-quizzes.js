const fs = require('fs');
const f = './sops/training/cs-training-data.js';
let c = fs.readFileSync(f, 'utf8');

// ===== TASK 1: CS MINDSET (task2Quiz) =====
const task2Quiz = `const task2Quiz = [
    { q: "A client's checkout page broke during a festival sale weekend and they've lost ₹50,000 in sales. They're threatening to leave and demand a full refund. Your FIRST action as a CS professional should be:", o: ["Immediately offer a full refund to prevent losing the client", "Acknowledge the severity, take ownership, and escalate to dev as P1 Critical within minutes", "Ask the client to wait while you check with your manager about refund policies", "Tell the client this is a dev issue and transfer them to the development team"], c: 1 },
    { q: "According to the CS Mindset training, acquiring a new customer costs how much more than retaining an existing one?", o: ["2-3x more", "Equal cost if you have good marketing", "5-7x more", "10-15x more"], c: 2 },
    { q: "A premium client paying ₹80,000/year retainer asks a simple question about updating product images. You respond 8 hours later with 'please see FAQ.' Based on the cautionary tale, what is the likely total financial damage?", o: ["₹80,000 (just the lost retainer)", "₹4.4 lakhs including lost retainer years and referral impact", "₹1.2 lakhs from the lost referral alone", "No damage — clients understand delays happen"], c: 1 },
    { q: "Which of the following correctly describes YOUR role in the Digital Heroes interconnected chain?", o: ["You generate enquiries through outreach and cold calling", "You deliver quality development work on client projects", "You protect client satisfaction and drive 5-star reviews that boost algorithm positioning", "You manage the sales pipeline and close new deals"], c: 2 },
    { q: "The '5 Laws of CS Excellence' state that first response time under 1 hour leads to:", o: ["A 10% increase in customer satisfaction scores", "2x higher client retention rates", "An automatic positive review on the platform", "A guaranteed renewal of the client contract"], c: 1 },
    { q: "A CS rep receives a ticket about a broken checkout. They fix it in 2 hours, follow up personally the next day, and offer 1 week free support. The client then leaves a 5-star review AND refers 2 new clients worth ₹3.5L. This scenario proves that CS is:", o: ["An unnecessary cost center that sometimes gets lucky", "A revenue protection and generation mechanism — not a cost center", "Only valuable when major issues occur", "Effective only because the client was already satisfied"], c: 1 },
    { q: "Law 4 of CS Excellence says 'Under-Promise, Over-Deliver.' A client asks when their homepage redesign will be ready. You estimate it takes 4 hours. What should you tell them?", o: ["Tell them 4 hours since that's the honest estimate", "Tell them 2 hours to impress them with fast turnaround", "Tell them 24 hours, then deliver it in 4 hours to exceed expectations", "Don't give a timeline — just say 'as soon as possible'"], c: 2 },
    { q: "According to the CS Mindset content, one angry customer who receives bad support will tell approximately how many people about their experience?", o: ["4-6 people", "15-20 people", "1-2 people", "50+ people on social media only"], c: 1 },
    { q: "Which mindset shift is CORRECT according to the Support Mindset training?", o: ["'They should read the FAQ' → 'Let me make this super easy for them'", "'This customer is frustrated — I'll transfer them to someone more patient'", "'Not my problem — let me find whose department this belongs to'", "'I answered the question — my job is done'"], c: 0 },
    { q: "The Digital Heroes growth formula states: Employee Growth = Company Growth × (Will + Efforts). In the context of CS, what does 'Will' represent?", o: ["Your willingness to work overtime whenever needed", "Your commitment to turning problems into loyalty and complaints into referrals", "Your ability to handle the maximum number of tickets per day", "Your willingness to accept any task assigned without questioning"], c: 1 }
];`;

// ===== TASK 2: COMMUNICATION EXCELLENCE (task3Quiz) =====
const task3Quiz = `const task3Quiz = [
    { q: "A client messages: 'My website has been down for 2 hours and I'm losing sales! This is unacceptable!' Using the HEAT method, which response demonstrates ALL four steps correctly?", o: ["'I see your site is down. I apologize. I'll have someone look into it.'", "'I can see your checkout is unreachable. I understand how stressful this is during peak sales. I sincerely apologize. I've flagged this as P1 and our senior dev is on it — I'll update you every 30 minutes.'", "'That's definitely frustrating. Let me check with the dev team and get back to you soon.'", "'I understand. Can you try clearing your cache first? If that doesn't work, I'll escalate it.'"], c: 1 },
    { q: "In HEAT, what does the 'A' stand for, and why does it come AFTER 'E' (Empathize)?", o: ["Action — because you need to act before showing empathy", "Apologize/Acknowledge — because customers need to feel heard before hearing an apology", "Analyze — because you need to understand the root cause before responding", "Assist — because helping is more important than emotional validation"], c: 1 },
    { q: "A customer writes: 'I can't believe you charged me twice for the same order!' Which response violates the Communication Excellence standards?", o: ["'I can see why that would be frustrating. Let me look into this right away.'", "'That's definitely not the experience we want you to have. I'm pulling up your account now.'", "'As I said before in my previous email, our billing system processes refunds within 5-7 days.'", "'I completely understand your concern. Let me check the transaction details and get this sorted immediately.'"], c: 2 },
    { q: "The 3-Second Rule states you should check three things before sending any response. Which is NOT one of them?", o: ["Would I feel good receiving this message?", "Does this sound human or robotic?", "Am I solving their REAL problem, not just answering their question?", "Is this response under 100 words for maximum efficiency?"], c: 3 },
    { q: "A jewelry store client sends an angry email at 11 PM about product images not displaying on mobile. You see it at 7 AM. According to the real story from training, what made the response exceptional?", o: ["Responding within the contractual SLA of 24 hours", "Making the issue TOP priority, identifying the root cause, giving a specific 3-step plan with ETAs, and proactively preventing future occurrences", "Immediately escalating to the development team without investigating", "Offering a refund for the inconvenience to show goodwill"], c: 1 },
    { q: "A client says: 'This is the third time I've explained this problem!' Which phrase should you use according to the Words to Avoid list?", o: ["'I understand you've had to repeat yourself, which is frustrating'", "'Let me clarify what we know so far'", "'As I said before, we've already addressed this'", "'I'd feel the same way in your situation. Let me take a fresh look at this.'"], c: 2 },
    { q: "Your colleague responds to a client with: 'That's our policy, so we can't change it.' According to Communication Excellence training, the correct alternative is:", o: ["'I understand that's frustrating, but rules are rules'", "'Let me check if we can make an exception for you'", "'Here's WHY we do it this way, and what I CAN do for you is...'", "'I'll escalate this to management and see what they say'"], c: 2 },
    { q: "Which of these is the CORRECT empathy phrase from the approved response templates?", o: ["'I'm sorry you feel that way'", "'That's definitely not the experience we want you to have'", "'Calm down, we'll sort this out'", "'Many customers have the same issue, so you're not alone'"], c: 1 },
    { q: "A CS rep writes: 'No problem, I'll handle it.' According to the training, what phrase should replace 'No problem'?", o: ["'Sure thing'", "'OK, will do'", "'Don't worry about it'", "'Happy to help!'"], c: 3 },
    { q: "An irate client says: 'Well, you should have warned me about this limitation before I bought it!' According to the Words to Avoid guide, your response should be:", o: ["'You're right, we should have disclosed that. Let me fix this now.'", "'Our terms and conditions clearly state the limitations'", "'Going forward, try checking the feature list before purchasing. In the meantime, here's what I can do...'", "'I understand, but it's mentioned in our documentation'"], c: 2 }
];`;

// ===== TASK 3: TICKET MANAGEMENT (task4Quiz) =====
const task4Quiz = `const task4Quiz = [
    { q: "A Shopify store's entire website is down during Black Friday weekend. According to the Priority Matrix, this is classified as:", o: ["P2 - High priority with 1-hour response time", "P1 - Critical with 15-minute response time because business is completely stopped", "P3 - Medium because a workaround might exist", "P1 - Critical but with 1-hour response time since it's a weekend"], c: 1 },
    { q: "A client reports that their product search function is slow but still working. Customers can still browse and buy. According to the Priority Matrix, this is:", o: ["P1 Critical — any performance issue is critical", "P2 High — it's a major function that's degraded", "P3 Medium — feature is broken but workaround (browsing categories) exists", "P4 Low — it's just a question about performance"], c: 2 },
    { q: "You receive 4 tickets simultaneously: (A) Client site completely down, (B) Login issue for one user, (C) 'How do I update my banner?' question, (D) Payment gateway rejecting all cards. The correct priority order is:", o: ["A → D → B → C (P1 → P1 → P2 → P4)", "A → B → C → D (handle in order received)", "D → A → B → C (payment issues always first)", "A → D → C → B (questions before login issues)"], c: 0 },
    { q: "According to the Ticket Workflow, what is the FIRST step you must take even before investigating a P2 High priority ticket?", o: ["Research the issue in the knowledge base", "Acknowledge receipt within SLA", "Start troubleshooting immediately", "Categorize the ticket for tracking"], c: 1 },
    { q: "A ticket has been open for 3 days with multiple back-and-forth replies but no resolution. According to the ticket workflow, which step was likely SKIPPED?", o: ["Step 1: Acknowledge", "Step 3: Research the issue thoroughly before responding", "Step 5: Follow up to ensure resolution", "Step 6: Close with satisfaction check"], c: 1 },
    { q: "A P3 Medium ticket comes in at 9 AM about slow loading pages. You have 3 P4 Low tickets from yesterday still open. What is the correct approach?", o: ["Finish all P4 tickets first since they came in earlier", "Address the P3 ticket first (4-hour SLA) then return to P4s", "Escalate the P3 immediately since you're backlogged", "Work on all 4 simultaneously to save time"], c: 1 },
    { q: "A client reports a display bug on their product page. You ask them to clear their cache and try incognito mode — it works fine there. According to the Ticket Workflow, what's your next step?", o: ["Close the ticket — the issue is resolved", "Research whether this is a known browser caching issue, test on multiple browsers, then respond with a permanent solution", "Tell the client to always use incognito mode", "Escalate to development since it's a browser issue"], c: 1 },
    { q: "A client writes: 'My payment gateway isn't working.' You classify it as P2 High. A colleague argues it should be P1 Critical. Who is correct?", o: ["You are — payment issues are P2 by default", "Your colleague is — if ALL payments are failing, it stops business (P1); if it's one failed transaction, it's P2", "Neither — payment issues are always P3 since banks handle them", "It depends on the client's revenue level"], c: 1 },
    { q: "The final step in the Ticket Workflow is 'Close with satisfaction check.' Which closing approach is correct?", o: ["Just change ticket status to 'Resolved' and move on", "Ask 'Is there anything else I can help with?' and only close after confirmation", "Close automatically after 24 hours of no response", "Send a survey link and close immediately"], c: 1 },
    { q: "You receive a P4 Low ticket asking 'How do I add a new product collection?' According to the Priority Matrix, your response deadline is:", o: ["15 minutes — treat every client like VIP", "1 hour — same as manager response time", "4 hours — within working hours", "24 hours — questions and feature requests are low priority"], c: 3 }
];`;

// ===== TASK 4: COMMON ISSUES (task5Quiz) =====
const task5Quiz = `const task5Quiz = [
    { q: "A client reports 'My website won't load at all!' According to the 5-Step Fix Method, your FIRST step before anything else is:", o: ["Send them a troubleshooting guide link", "Reproduce: Try loading the site yourself to confirm the issue", "Isolate: Ask what browser they're using", "Research: Check past tickets for similar complaints"], c: 1 },
    { q: "A customer says their page isn't loading. You try it — works fine for you. According to the troubleshooting protocol, your next step (Isolate) should determine:", o: ["If the customer is lying about the issue", "Whether it's specific to their browser, device, location, or account", "Whether to escalate immediately to development", "If the issue will fix itself within 24 hours"], c: 1 },
    { q: "A client reports 'I can't login to my Shopify admin.' According to the Common Issues table, the first step and most common cause are:", o: ["Check server status; servers are usually down", "Send password reset link; wrong password is the most common cause", "Create a new admin account; the old one is likely corrupted", "Ask them to try a different browser; login issues are always browser-related"], c: 1 },
    { q: "You fix a customer's issue (email not receiving order confirmations) by solving the spam filter problem. According to the 5-Step Fix Method, what FINAL step must you still complete?", o: ["Close the ticket immediately since the fix worked", "Document the solution in the knowledge base", "Verify: Confirm with the customer that they're now receiving emails", "Escalate to the email service provider for a permanent fix"], c: 2 },
    { q: "A client's payment keeps failing. You check — their card details look correct. According to the Common Issues guide, the common cause is:", o: ["Shopify's payment system is broken", "Card declined by the bank — suggest trying another payment method", "The client entered a wrong CVV every time", "The store's payment gateway has expired"], c: 1 },
    { q: "Step 4 of the 5-Step Fix Method says 'Test: Try the solution yourself first.' Why is this step critical before telling the customer?", o: ["To waste time and delay the response", "Because if the fix doesn't actually work, you'll look unprofessional and erode trust", "To prove to management that you tried", "It's optional — you can skip it if you're confident"], c: 1 },
    { q: "A client reports their order tracking shows 'not received' but the shipping carrier confirms delivery. According to the Common Issues table, the first step is:", o: ["Immediately issue a refund", "Check tracking details and confirm the delivery address with the client", "Tell the client to contact the shipping carrier directly", "Assume the package was stolen and file a claim"], c: 1 },
    { q: "You encounter a new issue not in the Common Issues table or knowledge base. According to the troubleshooting protocol, Step 3 (Research) includes checking:", o: ["Only Google for solutions", "Knowledge base AND past tickets for similar issues", "Only the Shopify documentation", "Nothing — escalate immediately if it's not in the table"], c: 1 },
    { q: "A client says 'My product images look blurry on mobile.' You reproduce it and confirm the issue. During the Isolate step, you discover it only happens on older Android phones. What's your next move?", o: ["Tell the client to buy a newer phone", "Research whether the image format is incompatible with older devices, then test a fix before responding", "Close the ticket — it's a device problem, not your issue", "Escalate to development immediately without further investigation"], c: 1 },
    { q: "Multiple clients report the same 'slow loading' issue within one hour. According to best troubleshooting practices, this pattern suggests:", o: ["It's a coincidence — handle each ticket independently", "A systemic issue (server/CDN/infrastructure) that needs immediate P1 escalation", "Clients are exaggerating their experience", "A browser update is causing the problem — tell clients to downgrade"], c: 1 }
];`;

// ===== TASK 5: ESCALATION (task6Quiz) =====
const task6Quiz = `const task6Quiz = [
    { q: "A client reports a potential data breach — they see unfamiliar admin users in their Shopify dashboard. According to the Escalation Protocol, your action should be:", o: ["Research the issue yourself first to confirm it's a real breach", "Try removing the unfamiliar admin accounts yourself", "Escalate IMMEDIATELY — security/data breaches require instant escalation regardless of confirmation status", "Ask the client to change their password and monitor for 24 hours"], c: 2 },
    { q: "You've tried two different solutions for a persistent checkout bug, but neither worked. According to the Escalation Protocol, this falls under:", o: ["Immediate escalation — you should have escalated after the first attempt", "Escalate After 2 Attempts — technical issue you can't solve", "Keep trying — 2 attempts isn't enough before escalation", "Close the ticket and tell the client to wait for the next update"], c: 1 },
    { q: "A client says: 'If this isn't fixed by tomorrow, my lawyers will be in contact.' According to the Escalation Protocol, legal threats require:", o: ["Immediate escalation — legal threats are in the 'Escalate Immediately' category", "Wait to see if they actually follow through", "Respond that your company has lawyers too", "Escalation after 2 attempts to resolve the issue first"], c: 0 },
    { q: "Your escalation message should include 5 key pieces of information. Which list is COMPLETE according to the Escalation Template?", o: ["Customer name, issue summary, priority level", "Customer name + account ID, issue summary, what you've already tried, priority level + why, customer expectation", "Customer name, issue description, your recommendation", "Customer contact info, screenshots, suggested solution, timeline"], c: 1 },
    { q: "A client is an enterprise account paying ₹5L/year. They have a minor CSS alignment issue on one page. According to Escalation Protocol, how should this be handled?", o: ["Treat it as P4 Low — it's just a CSS issue regardless of client tier", "Escalate immediately — VIP/Enterprise clients are always escalated immediately", "Handle it yourself within normal P3 timeline — enterprise status doesn't change issue severity", "Deprioritize it — enterprise clients are more understanding"], c: 1 },
    { q: "A billing dispute involves ₹15,000 worth of charges the client contests. According to the Escalation Protocol, this should be:", o: ["Handled by CS directly — billing disputes are routine", "Escalated after 2 attempts since it's over ₹10,000", "Escalated immediately since it involves money", "Ignored until the client provides proof of incorrect billing"], c: 1 },
    { q: "You're escalating a P2 High ticket. Your escalation note says: 'Client is upset about login issues.' What's WRONG with this according to the template?", o: ["It's too long — escalations should be one word", "It's missing critical info: account ID, what you've already tried, why it's P2, and what the customer expects", "It shouldn't be escalated — login issues are P4", "The priority level is wrong — login issues are always P1"], c: 1 },
    { q: "A client's entire site has been down for 30 minutes. You identify it as a P1 Critical issue. What is the SLA response time?", o: ["1 hour — you have time to research thoroughly", "15 minutes — P1 Critical is business-stopped and requires immediate action", "30 minutes — standard urgent response time", "4 hours — same as P3 Medium"], c: 1 },
    { q: "A customer remains unsatisfied after your resolution attempt. They're not threatening anything, but they're clearly unhappy with the outcome. According to the protocol:", o: ["Close the ticket — you already resolved the technical issue", "Apologize again and close", "Escalate after 2 attempts — 'customer remains unsatisfied' is an escalation trigger", "Offer a refund immediately to end the conversation"], c: 2 },
    { q: "You receive a ticket that's clearly a feature request ('Can you add a wishlist feature?'). A colleague says to escalate it since you can't 'resolve' it yourself. Is this correct?", o: ["Yes — anything you can't solve should be escalated", "No — feature requests are P4 Low priority, not escalation candidates. Log it, respond with expectations, and close properly", "Yes — all feature requests go to the development team immediately", "No — just ignore feature requests entirely"], c: 1 }
];`;

// ===== TASK 6: DIFFICULT CUSTOMERS (task7Quiz) =====
const task7Quiz = `const task7Quiz = [
    { q: "A client screams: 'This is RIDICULOUS! I've waited THREE WEEKS for changes! I'm disputing EVERY payment!' Using the CALM method, your FIRST step (C - Control) means:", o: ["Control the client's emotions by telling them to calm down", "Control the situation by immediately offering a refund", "Control YOUR OWN emotions — breathe, don't react defensively", "Control the conversation by interrupting with solutions"], c: 2 },
    { q: "In the real de-escalation conversation from training, the CS rep said: 'I'm going to call them directly — not email, call.' What principle does this demonstrate?", o: ["That email is unreliable for internal communication", "Showing specific, urgent action matched to the severity of the situation", "That CS reps should always call instead of emailing", "Bypassing normal escalation procedures because the client was angry"], c: 1 },
    { q: "A client says: 'Yeah, well, understanding doesn't fix my problem!' According to the CALM method, the best response demonstrates which step?", o: ["M (Move toward solution) — they want action, so skip straight to fixing", "L (Listen + Validate) — 'You're absolutely right. Can you tell me exactly which changes were requested? I want to solve this TODAY.'", "C (Control) — stay silent and let them vent more", "A (Acknowledge) — 'I acknowledge you're frustrated. Please hold.'"], c: 1 },
    { q: "Which 'magic phrase' from the training is appropriate when a customer is venting angrily about a delayed project?", o: ["'Calm down, we'll figure it out'", "'That's not my department, let me transfer you'", "'I completely understand why you're upset, and I would be too'", "'We're very busy right now, but I'll try to help'"], c: 2 },
    { q: "In the Legal Threat case study, the client threatened to sue over ₹40,000 in wrong-priced orders. What response strategy ultimately converted the threat into a LinkedIn recommendation?", o: ["Threatening back with the company's legal team", "Staying calm, validating the revenue impact, taking ownership, absorbing the ₹40k loss, and preventing future occurrence", "Offering a 50% refund as a compromise", "Ignoring the legal threat and focusing only on fixing the technical issue"], c: 1 },
    { q: "According to the 'What NOT to Do' table, responding 'We're very busy right now' is wrong because:", o: ["It reveals internal workload information", "It makes the customer feel unimportant — the better response is 'You're my priority right now'", "It could lead to a complaint to management", "It's technically inaccurate if you're not actually busy"], c: 1 },
    { q: "The training states: 'When customers threaten legal action, they usually want to be HEARD, not to actually sue.' What does this insight mean for your response approach?", o: ["Ignore legal threats since they're not serious", "Focus on professional de-escalation and real solutions rather than panicking about the legal aspect", "Tell the client you understand but can't discuss legal matters", "Immediately involve your company's legal department"], c: 1 },
    { q: "A client demands to speak to your manager. According to the difficult customer training, what should you do BEFORE transferring?", o: ["Transfer immediately — clients have the right to speak to managers", "Try to resolve it yourself first by acknowledging their frustration, taking ownership, and offering specific actions", "Tell them your manager will say the same thing", "Put them on hold indefinitely until they give up"], c: 1 },
    { q: "After resolving a difficult interaction where the client was initially furious, the training case study showed the client renewed their contract with a 20% upgrade. What was the KEY action that created this outcome?", o: ["Offering a large discount to compensate for the bad experience", "Delivering the changes by 3 PM (before the promised 4 PM deadline) — over-delivering on the promise made during de-escalation", "Having the manager call the client to apologize personally", "Sending a gift basket as a goodwill gesture"], c: 1 },
    { q: "The correct response to 'Well, you should have warned me about this!' according to the Words to Avoid table is:", o: ["'You're right, we should have. That's our mistake.'", "'It was clearly mentioned in the documentation'", "'Going forward, try checking the feature list. In the meantime, here's what I can do...'", "'I'm sorry, but that information was available on our website'"], c: 2 }
];`;

// ===== TASK 7: PROACTIVE SUPPORT (task8Quiz) =====
const task8Quiz = `const task8Quiz = [
    { q: "The Proactive Support training states 'The best support ticket is the one that never gets created.' Which action BEST represents this philosophy?", o: ["Only respond to tickets faster to reduce backlog", "Send check-in emails after launch, share tutorials before questions arise, and alert customers to known issues proactively", "Wait for customers to find issues since most will figure it out themselves", "Create an extensive FAQ page and direct all inquiries there"], c: 1 },
    { q: "You launched a Shopify store for a client 5 days ago. According to Proactive Support best practices, what should you do NOW?", o: ["Nothing — wait for them to contact you if there are issues", "Send a check-in email asking if everything is running smoothly and if they have any questions", "Send an invoice for post-launch support services", "Call them every day to check status"], c: 1 },
    { q: "You notice that 3 clients this week reported the same issue with Shopify's latest update breaking mobile menus. According to Proactive Support, you should:", o: ["Wait for more clients to report it before taking action", "Only fix it for the clients who reported it", "Alert ALL clients on that Shopify version about the potential issue before they discover it, and report the pattern to prevent future issues", "Post about it on social media to warn everyone"], c: 2 },
    { q: "The check-in email template includes three 'Quick questions.' Which set matches the template EXACTLY?", o: ["'How's business? Need any new features? Want to upgrade your plan?'", "'Any bugs found? Payment working? Need more storage?'", "'Any issues you've noticed? Questions about any features? Anything we can help improve?'", "'Rate your experience. Would you recommend us? Leave a review?'"], c: 2 },
    { q: "A client hasn't responded to your check-in email after 3 days. What does Proactive Support training suggest?", o: ["Assume everything is fine and close the check-in", "Send one more follow-up — silence might mean they're too busy or didn't see it, not that everything is perfect", "Call them immediately — no response is a red flag", "Stop all proactive outreach to avoid being annoying"], c: 1 },
    { q: "You resolved a complex checkout issue for a client yesterday. According to the Proactive Support protocol, your next proactive action should be:", o: ["Move on to the next ticket — the issue is resolved", "Follow up after resolution to confirm the fix is still working and ask if anything else needs attention", "Send them a satisfaction survey within the hour", "Add a note to the CRM and wait for the next quarterly check-in"], c: 1 },
    { q: "Which of the following is the MOST proactive approach to preventing a common 'Can't login' issue?", o: ["Update the FAQ with login troubleshooting steps", "Share a tutorial on password management and 2FA setup with clients BEFORE they encounter login issues", "Wait for login tickets and resolve them quickly", "Add a 'Forgot Password' button to the login page"], c: 1 },
    { q: "A Shopify platform update is scheduled for next week. Some features your clients use may be temporarily affected. Proactive Support means:", o: ["Wait until the update happens and deal with tickets as they come", "Tell clients to check Shopify's release notes themselves", "Personally alert affected clients about the upcoming changes, explain what might be impacted, and provide workarounds", "Only notify enterprise clients since they pay more"], c: 2 },
    { q: "The pattern reporting aspect of Proactive Support ('Report patterns to prevent future issues') means:", o: ["Tracking how many tickets you personally resolve each month", "Identifying recurring issues across multiple clients and escalating them to improve the product/process systemically", "Reporting clients who complain the most", "Creating weekly reports for management about ticket volume"], c: 1 },
    { q: "What differentiates Proactive Support from Reactive Support according to the training?", o: ["Proactive is faster responses; reactive is slower responses", "Proactive prevents issues before they happen and anticipates client needs; reactive only responds after problems occur", "Proactive is for VIP clients only; reactive is for standard clients", "There's no real difference — both solve client problems"], c: 1 }
];`;

// ===== TASK 8: TOOLS & SYSTEMS (task9Quiz) =====
const task9Quiz = `const task9Quiz = [
    { q: "A client sends a support request via email, mentions it on WhatsApp, and also submits a ticket through the Help Desk. According to the Tools & Systems training, where should this be tracked and managed?", o: ["WhatsApp — it's the fastest communication channel", "Email — it's the most formal channel", "Help Desk — all support requests must be logged and tracked in the ticket management system", "All three simultaneously to ensure nothing is missed"], c: 2 },
    { q: "According to the CS Tools overview, the CRM system's primary purpose for a CS professional is:", o: ["Tracking sales leads and pipeline metrics", "Viewing customer history and past interactions to provide context-aware support", "Sending marketing emails and promotional campaigns", "Managing the company's internal project timeline"], c: 1 },
    { q: "A repeat client contacts you about a slow-loading page. Before responding, what tool should you check FIRST to provide better context?", o: ["Google Analytics to check their traffic", "CRM to review their past interactions and any recurring issues", "Social media to see if they've complained publicly", "The knowledge base to find a generic response"], c: 1 },
    { q: "The Knowledge Base tool serves which specific function in the CS ecosystem?", o: ["Replacing the need for CS reps entirely with automated responses", "Providing self-serve answers through FAQs, guides, and tutorials so customers can solve simple issues independently", "Storing internal company secrets and SOPs", "Managing the ticket assignment workflow"], c: 1 },
    { q: "You're handling a Live Chat request and the issue requires research. According to best practices for Live Chat, what should you do?", o: ["Tell the client to email instead since you need more time", "Keep the client engaged with status updates while you research, rather than leaving them waiting in silence", "Close the chat and create a ticket instead", "Transfer the chat to another agent without explanation"], c: 1 },
    { q: "The Help Desk systems key features are listed as 'Assign, prioritize, track.' In what scenario would all three features be used together?", o: ["A simple password reset request from one client", "A P2 High ticket that needs to be assigned to the right team, prioritized above P4s, and tracked until resolution with SLA monitoring", "An internal question from a colleague", "A check-in email to a new client after launch"], c: 1 },
    { q: "A new team member asks: 'Why do we need both a Help Desk AND a CRM? Aren't they the same thing?' The correct explanation is:", o: ["They are essentially the same — you only need one", "Help Desk manages individual support tickets and workflows; CRM stores the complete customer relationship history including past interactions, account details, and notes", "CRM is for sales, Help Desk is for support — they never overlap", "Help Desk is for internal use; CRM is for communicating with clients"], c: 1 },
    { q: "You discover a new solution to a common Shopify theme compatibility issue. According to the Tools & Systems training, which tool should this be documented in?", o: ["Your personal notes — in case it comes up again", "Knowledge Base — so it becomes a self-serve resource for customers and other CS reps", "CRM — under the specific client's profile", "Help Desk — in the ticket resolution notes only"], c: 1 },
    { q: "When using the Help Desk to categorize a ticket, why is correct categorization important according to the Ticket Workflow?", o: ["It looks professional in reports", "It enables accurate tracking, helps identify patterns, and ensures the right priority and routing", "It's mandatory for compliance purposes only", "It helps the CS manager assign performance scores"], c: 1 },
    { q: "A client prefers to communicate through WhatsApp instead of the official Help Desk. According to communication channel guidelines, the correct approach is:", o: ["Accept their preference — client comfort is most priority", "Redirect official support requests to the Help Desk for proper tracking while keeping WhatsApp for quick team communication", "Tell them WhatsApp is not allowed and refuse to communicate there", "Use WhatsApp exclusively since it's faster than the Help Desk"], c: 1 }
];`;

// ===== TASK 9: METRICS (task10Quiz) =====
const task10Quiz = `const task10Quiz = [
    { q: "Your team's CSAT score dropped from 92% to 84% over the last month. According to the CS Metrics training, this means:", o: ["Nothing concerning — 84% is still above average", "A significant red flag — the target is >90%, and an 8% drop indicates a systemic issue requiring immediate investigation", "Just a statistical fluctuation — wait another month to confirm the trend", "Time to replace the entire CS team with new hires"], c: 1 },
    { q: "Your average First Response Time (FRT) is 2 hours 15 minutes. According to the CS metrics targets, this performance is:", o: ["Excellent — well within the 24-hour industry standard", "Meeting expectations — close enough to the target", "Failing — the target is <1 hour, and 2h15m is more than double that", "Acceptable for non-urgent tickets only"], c: 2 },
    { q: "FCR (First Contact Resolution) measures:", o: ["How fast you respond to the first message", "The percentage of issues resolved during the customer's first contact without requiring follow-ups", "How many contacts a client makes before they give up", "The time between first contact and final resolution"], c: 1 },
    { q: "Your FCR is at 55% against a target of >70%. This means:", o: ["Most issues require multiple back-and-forth interactions, suggesting inadequate first responses, insufficient research, or lack of troubleshooting skills", "You're handling more complex issues than average", "The target is unrealistic for your type of clients", "55% is acceptable for a new CS team member"], c: 0 },
    { q: "A client submits a ticket at 9 AM. You acknowledge it at 9:30 AM, investigate until 11 AM, respond with a solution at 11:15 AM, and the client confirms resolution at 2 PM. What is the FRT and Resolution Time?", o: ["FRT: 2h15m, Resolution: 5h", "FRT: 30 min, Resolution: 5 hours", "FRT: 11:15 AM, Resolution: 2 PM", "FRT: 30 min, Resolution: 2h15m"], c: 1 },
    { q: "Which metric DIRECTLY measures whether clients are happy with your support interaction?", o: ["FRT — faster response means happier clients", "FCR — resolving on first contact means satisfaction", "CSAT — Customer Satisfaction score directly measures client happiness", "Resolution Time — shorter resolution means better experience"], c: 2 },
    { q: "Your Resolution Time average is 36 hours against a target of <24 hours. The MOST likely root cause is:", o: ["Clients taking too long to respond to your follow-up questions", "Insufficient investigation during the Research step, leading to multiple failed resolution attempts", "Too many VIP clients requiring special attention", "The target being unrealistic for the Shopify ecosystem"], c: 1 },
    { q: "You resolve 8 out of 10 tickets on first contact this month. Your FCR is:", o: ["80% — well above the >70% target, demonstrating strong first-contact effectiveness", "Impossible to calculate without knowing response times", "8/10 is meaningless without knowing total ticket volume", "80% — but this only counts if CSAT is also above target"], c: 0 },
    { q: "Management asks you to improve FRT without sacrificing quality. Which approach achieves BOTH goals?", o: ["Send an immediate auto-reply to every ticket to hit the FRT target", "Acknowledge tickets within SLA with a personalized message confirming you're investigating, then follow up with a thorough solution", "Respond instantly with any answer, even if incomplete", "Delay responses slightly to give more thorough initial answers"], c: 1 },
    { q: "A CS team member has excellent FRT (20 min average) and Resolution Time (8 hours) but a CSAT of only 65%. What does this metric combination suggest?", o: ["They're responding fast but the quality of communication or solutions is poor — speed without empathy/quality fails", "The CSAT survey is broken and needs to be recalibrated", "These metrics should be evaluated independently, not together", "They need more training on time management"], c: 0 }
];`;

// ===== TASK 10: FINAL CERTIFICATION (task11Quiz) =====
const task11Quiz = `const task11Quiz = [
    { q: "During your certification role-play, a mock client says: 'I want a FULL refund — your website builder RUINED my business launch!' Using all your training, your BEST opening response combines which methods?", o: ["HEAT only — Hear, Empathize, Apologize, Take action", "CALM only — Control emotions, Acknowledge, Listen, Move to solution", "HEAT + CALM combined — Control your emotions (CALM-C), then Hear them out (HEAT-H), Empathize (HEAT-E), Acknowledge (HEAT-A/CALM-A), and Take specific action (HEAT-T/CALM-M)", "Neither — go directly to offering the refund to end the conversation quickly"], c: 2 },
    { q: "You're handling 5 simultaneous tickets: (A) VIP site completely down, (B) Client asking how to add a product, (C) Payment gateway failing for all customers, (D) Client wants a font change, (E) Client with legal threat about data breach. Correct priority order:", o: ["E → A → C → B → D", "A → C → E → B → D", "A → E → C → D → B", "E → C → A → B → D"], c: 0 },
    { q: "A client's e-commerce store shows wrong prices for 2 days, resulting in ₹40K of orders at incorrect prices. The client threatens legal action. Based on ALL your training, the COMPLETE correct response includes:", o: ["Offer a partial refund and hope they accept", "Stay calm (CALM), validate the revenue impact (HEAT-E), take full ownership (HEAT-A), escalate to Operations Manager immediately (Escalation Protocol), honor all incorrect orders, implement price verification system (Proactive Support)", "Escalate to legal department immediately and stop communicating", "Fix the prices, apologize via email, and close the ticket"], c: 1 },
    { q: "Your metrics for the month: CSAT 88%, FRT 1h15m, FCR 65%, Resolution Time 28h. How many targets are you FAILING vs PASSING?", o: ["Failing 1 (FRT), Passing 3", "Failing all 4 — none meet target", "Failing 3 (FRT >1hr, FCR <70%, Resolution >24hr), Passing 1 (CSAT — wait, 88% is <90%... actually failing all 4)", "Failing 4 — CSAT <90%, FRT >1hr, FCR <70%, Resolution Time >24hr"], c: 3 },
    { q: "A CS rep responds to an angry client with: 'As I said before, that's our policy and I can't do anything about it.' This response violates which CS training principles?", o: ["Only Communication Excellence (Words to Avoid list)", "Communication Excellence (banned phrases) + CS Mindset (ownership) + HEAT method (no empathy shown) + Difficult Customer handling (no de-escalation)", "Only the HEAT method", "Only the Difficult Customers de-escalation training"], c: 1 },
    { q: "In the ₹2L Save Story, the CS rep's actions included: immediate acknowledgment, escalation within 3 minutes, updates every 30 minutes, fix in 2 hours, next-day follow-up, and 1-week free support. Which CS concepts does this demonstrate?", o: ["Only the HEAT method and ticket management", "HEAT method + Priority Matrix (P1 Critical) + Escalation Protocol + Proactive Support (follow-up + prevention) + Under-Promise/Over-Deliver", "Only good communication skills", "Just following basic SOP procedures"], c: 1 },
    { q: "A new Shopify platform update breaks 12 client websites simultaneously. This is your first week on the job. According to ALL your training, what is the CORRECT sequence of actions?", o: ["Fix each client's site one by one in the order tickets came in", "Escalate immediately (P1 Critical — multiple sites down), alert ALL affected clients proactively, provide status updates every 30 minutes, follow up after resolution, report the pattern to prevent recurrence", "Post on social media asking Shopify to fix their update", "Email your manager and wait for instructions"], c: 1 },
    { q: "Which combination of metrics would indicate a CS rep who is fast but not effective?", o: ["High CSAT, Low FRT, High FCR", "Low FRT (fast response), Low FCR (issues not resolved first time), Low CSAT (clients unhappy despite quick replies)", "High FRT, High FCR, High CSAT", "Low FRT, High FCR, Low CSAT"], c: 1 },
    { q: "The 3-Second Rule, HEAT method, CALM method, 5-Step Fix Method, and Priority Matrix are all frameworks taught in this training. If a VIP client is screaming about a broken checkout during a sale, which frameworks do you apply and in what order?", o: ["Only Priority Matrix then HEAT", "CALM first (control emotions), then Priority Matrix (classify as P1), then HEAT (respond), then 5-Step Fix (troubleshoot), then 3-Second Rule (before hitting send)", "HEAT first, then Priority Matrix, then CALM", "5-Step Fix first, then all others"], c: 1 },
    { q: "The CS training emphasizes that CS is 'Revenue Protection, not a cost center.' If your team handles 100 tickets/month, achieves 95% CSAT, and clients average ₹80K/year in retainer value, what is the approximate revenue you're PROTECTING monthly?", o: ["₹80,000 per client only", "Approximately ₹80L (₹80K × 100 clients) in annual retainer value, plus referral potential", "Impossible to calculate without knowing profit margins", "Revenue protection only applies to enterprise clients"], c: 1 }
];`;

// Now replace all quiz blocks in the file
const replacements = [
    { old: /const task2Quiz = \[[\s\S]*?\];/, new: task2Quiz },
    { old: /const task3Quiz = \[[\s\S]*?\];/, new: task3Quiz },
    { old: /const task4Quiz = \[[\s\S]*?\];/, new: task4Quiz },
    { old: /const task5Quiz = \[[\s\S]*?\];/, new: task5Quiz },
    { old: /const task6Quiz = \[[\s\S]*?\];/, new: task6Quiz },
    { old: /const task7Quiz = \[[\s\S]*?\];/, new: task7Quiz },
    { old: /const task8Quiz = \[[\s\S]*?\];/, new: task8Quiz },
    { old: /const task9Quiz = \[[\s\S]*?\];/, new: task9Quiz },
    { old: /const task10Quiz = \[[\s\S]*?\];/, new: task10Quiz },
    { old: /const task11Quiz = \[[\s\S]*?\];/, new: task11Quiz },
];

for (const r of replacements) {
    if (c.match(r.old)) {
        c = c.replace(r.old, r.new);
        console.log('Replaced:', r.new.substring(6, 30));
    } else {
        console.log('NOT FOUND:', r.new.substring(6, 30));
    }
}

fs.writeFileSync(f, c, 'utf8');
console.log('\nCS quizzes rewritten! Verifying syntax...');

// Quick syntax check
try {
    new Function(c);
    console.log('Syntax: PASS');
} catch (e) {
    console.log('Syntax ERROR:', e.message);
}

// Answer distribution check
const answers = [];
const allMatches = c.matchAll(/c:\s*(\d)/g);
for (const m of allMatches) answers.push(parseInt(m[1]));
const dist = [0, 0, 0, 0];
answers.forEach(a => dist[a]++);
const total = answers.length;
console.log(`Answer distribution: A=${dist[0]} (${Math.round(dist[0] / total * 100)}%) B=${dist[1]} (${Math.round(dist[1] / total * 100)}%) C=${dist[2]} (${Math.round(dist[2] / total * 100)}%) D=${dist[3]} (${Math.round(dist[3] / total * 100)}%)`);
console.log(`Total questions: ${total}`);
