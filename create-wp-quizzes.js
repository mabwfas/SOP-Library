const fs = require('fs');
const fp = './sops/training/wordpress-training-data.js';
let c = fs.readFileSync(fp, 'utf8');

// New quiz arrays for positions 1-5
const task2Quiz = [
    // WP Developer Mindset
    { q: "A client wants a simple blog. A junior developer installs Elementor, 12 plugins, and a premium theme. The 'Revenue Developer' approach instead is:", o: ["Use the same stack but optimize each plugin's settings for maximum performance output", "Build a lightweight custom theme with only essential functionality — fewer plugins means faster load times and fewer security vulnerabilities", "Install even more plugins to cover every possible feature the client might need in the future", "Use a page builder but remove unused modules to balance between convenience and performance metrics"], c: 1 },
    { q: "Your PageSpeed score is 45 on a client site. The PM says 'Client didn't ask for speed.' The correct WordPress developer mindset is:", o: ["Agree — scope is scope, and doing extra work for free sets a bad precedent with the client", "Speed IS conversion — a 45 score costs the client revenue, and raising it is part of delivering quality work", "Focus only on the visual design since that's what clients actually evaluate during their review process", "Add a caching plugin and move on — 45 to 60 is good enough for most small business websites"], c: 1 },
    { q: "WordPress powers 43% of the internet. For Digital Heroes, this matters because:", o: ["It means there's too much competition and the agency should focus exclusively on Shopify projects instead", "The massive market presence creates an enormous demand pool for skilled developers who understand WordPress core deeply", "WordPress is easy enough that anyone can build sites, so the agency should charge lower hourly rates", "It proves WordPress is outdated since newer platforms would have overtaken it if it were still relevant"], c: 1 },
    { q: "You're asked to build a membership site. The correct platform choice per Digital Heroes standards is:", o: ["Always Shopify — Digital Heroes is a Shopify-exclusive agency regardless of the project requirements given", "WordPress — membership sites with custom access levels, content dripping, and community features are WordPress strengths", "Build from scratch using raw PHP since premade platforms limit customization for complex membership flows", "Use Wix or Squarespace since membership sites don't require the complexity that WordPress offers developers"], c: 1 },
    { q: "The 'Plugin Installer' vs 'Revenue Developer' distinction matters because:", o: ["Plugin Installers earn the same as Revenue Developers since clients can't tell the difference in the final output", "Revenue Developers command $80+/hour because they write custom code, understand security, optimize for speed, and can't be replaced by AI", "The distinction is artificial — all WordPress developers install plugins and there's no meaningful difference in skillset", "Plugin Installers are actually more efficient since they deliver projects faster using pre-built solutions always"], c: 1 },
    { q: "Digital Heroes standard says 'NEVER use nulled/pirated themes or plugins.' The real risk beyond ethics is:", o: ["Nulled themes look slightly different from originals which trained clients will notice during design review", "Nulled themes contain injected malware/backdoors that compromise server security — a data breach means client termination and legal liability", "They lack customer support but functionally work identically to licensed versions for production environments", "The risk is minimal on staging environments and they can be used temporarily during development phases only"], c: 1 },
    { q: "A client sends a 'small change request' — adding a custom calculator widget. As a WordPress developer, you should:", o: ["Build it immediately to show proactivity and impress the client with your responsiveness on their project", "Assess scope — 'small' changes can be 1 hour or 20 hours; communicate the complexity and get PM approval before starting development", "Decline since it wasn't in the original scope and any additions require a formal change order from the sales team", "Use a free calculator plugin regardless of quality since it's faster than custom development for small requests"], c: 1 },
    { q: "When do you deploy directly to production without staging?", o: ["When the client urgently needs a tiny CSS fix that won't affect any other functionality on their live site", "Never — Digital Heroes standard requires ALL changes go through staging first, regardless of how small they seem", "When the change is only a content update like text or image replacement on existing pages without code changes", "After 6 PM when traffic is lower and the risk of users encountering issues is minimized significantly"], c: 1 },
    { q: "Your colleague uses 'admin' as the WordPress username on a client site. This violates standards because:", o: ["The 'admin' username is the first target in brute-force attacks — custom usernames with strong passwords are mandatory per company policy", "It doesn't really matter as long as they use a strong password and have two-factor authentication enabled on the account", "Using 'admin' is fine for development environments and only needs to be changed before the production launch date", "The username 'admin' is deprecated in newer WordPress versions and will cause compatibility issues during updates"], c: 0 },
    { q: "The WordPress developer's role in the Digital Heroes chain is described as:", o: ["Secondary support — designers create the vision, developers just implement the static mockups into working code", "THE BUILDER — quality development drives client satisfaction which generates 5-star reviews and positions the algorithm for growth", "Code maintenance — developers keep existing sites running while the sales team brings in the actual revenue growth", "Back-end only — developers handle databases and APIs while designers handle everything the client actually sees and interacts with"], c: 1 },
];

const task3Quiz = [
    // WP Core Architecture
    { q: "A site is slow. You check wp_options and find 200 rows with autoload='yes' totaling 5MB. The performance issue is:", o: ["The wp_options table is designed to handle unlimited autoloaded rows without any performance degradation concerns", "Every page load queries ALL autoloaded options into memory — 5MB of autoloaded data causes significant server memory overhead on every request", "The autoload flag is cosmetic and has no actual impact on database query performance or page load times", "This is normal for a WordPress site with many plugins and shouldn't be optimized unless the server runs out of disk storage"], c: 1 },
    { q: "WordPress loads single-product-coffee.php on a product page. In the template hierarchy, this template is:", o: ["The least specific fallback — WordPress checks this last when no other templates match the requested content", "The MOST specific match — it targets a specific post type AND slug, taking priority over single-product.php and single.php", "Invalid naming — WordPress doesn't support slug-specific template files for custom post types at all", "Equally specific to single.php — WordPress randomly selects between them depending on the request timing"], c: 1 },
    { q: "You need to store a setting that every page uses. Where should it go?", o: ["In a custom JSON file in the theme directory since wp_options is only for WordPress core settings storage", "wp_options with autoload='yes' — this loads the value into memory once and serves it to all pages efficiently", "wp_postmeta on the homepage post since it's the most frequently accessed page on the entire website", "A PHP constant in functions.php since hardcoded values load faster than any database query method available"], c: 1 },
    { q: "The WordPress Loop uses have_posts() and the_post(). What happens if you call the_title() OUTSIDE the Loop?", o: ["It outputs the current page/post title correctly since WordPress automatically detects the global context", "It may output unexpected results or the wrong title because the_post() hasn't set up the global $post object properly for that context", "WordPress throws a fatal error and the page crashes completely because template tags require a Loop wrapper always", "It outputs nothing — all template tags return null when called outside a valid WordPress Loop structure"], c: 1 },
    { q: "A developer edits wp-includes/class-wp-query.php to fix a query issue. Why is this WRONG?", o: ["It's acceptable for urgent hotfixes that need to go live immediately before WordPress releases an official patch", "Core file modifications get overwritten on every WordPress update — use filters and actions hooks instead for customizations", "It's fine if you document the change in the project README so future developers know about the modification made", "wp-includes files can be safely edited because WordPress creates backups automatically before each core update is applied"], c: 1 },
    { q: "wp_posts stores posts, pages, AND custom post types. This unified approach means:", o: ["It's a design flaw — different content types should have completely separate tables for better database organization", "One query with post_type parameter fetches any content type — CPTs, products, orders all live in the same table for unified querying", "It causes performance issues on sites with many content types since all data competes for the same table indexes", "Only default post types use wp_posts — custom post types created by plugins always use their own separate database tables"], c: 1 },
    { q: "The wp-config.php file is marked as '⚠️ Critical' in WordPress architecture because:", o: ["It contains the database credentials, security keys, and debug settings — compromising it gives full access to the database and admin panel", "It's automatically regenerated during updates so any custom configurations added to it will be permanently lost", "It only affects the admin panel — frontend visitors would see no difference even if the file was completely deleted", "It's a standard config file with minimal security implications comparable to any typical PHP application settings file"], c: 0 },
    { q: "A theme has index.php, single.php, and page.php. A user visits a category archive page. Which template loads?", o: ["page.php since categories are similar to pages in WordPress content hierarchy and use the same display template", "single.php since categories display individual posts and the single template handles all post display requests", "index.php — it's the ultimate fallback when no specific category.php, archive.php, or category-specific templates exist in the theme", "WordPress displays a 404 error because the theme is missing the required category.php template file for that request"], c: 2 },
    { q: "LAMP vs LEMP stack for WordPress: the key difference is:", o: ["LAMP uses Apache while LEMP uses Nginx — Nginx typically handles concurrent connections better and uses less memory for static content", "They are identical stacks with different naming conventions used by different hosting providers in various regions", "LAMP is for Linux only while LEMP works across all operating systems including Windows and macOS environments", "LEMP is deprecated — all modern WordPress hosting has standardized on LAMP stack for production deployments now"], c: 0 },
    { q: "You see this query: SELECT * FROM wp_posts WHERE post_type='product' AND post_status='publish'. This returns:", o: ["All WooCommerce products regardless of their visibility settings, stock status, or catalog publication preferences", "All published WooCommerce products — because WooCommerce stores products as CPTs in wp_posts with post_type 'product'", "An error since WooCommerce products use a separate custom table rather than the standard WordPress wp_posts table", "Only simple products — variable products and their variations are stored in a completely different database structure"], c: 1 },
];

const task4Quiz = [
    // Theme Development
    { q: "You create a custom theme. The minimum files required for WordPress to recognize it as a valid theme are:", o: ["functions.php and header.php — WordPress needs the setup functions and document header to initialize any theme properly", "style.css (with Theme header comment) and index.php — these two files are the absolute minimum for theme recognition", "index.php, header.php, footer.php, and sidebar.php — all four template files are required for a valid theme", "Only style.css is needed — WordPress can auto-generate index.php from the default theme if it's not provided"], c: 1 },
    { q: "A developer adds CSS by writing <link> tags directly in header.php. The problem with this approach is:", o: ["It's the recommended method — hardcoding ensures the styles load before any plugin scripts for visual performance", "It bypasses WordPress dependency management — wp_enqueue_style() prevents conflicts, enables caching, and handles version control properly", "There's no functional difference between hardcoding and enqueuing since both ultimately produce the same HTML output", "Hardcoding is faster because it skips the PHP processing overhead that the enqueue system adds to every page request"], c: 1 },
    { q: "Child themes protect customizations because:", o: ["They create a backup copy of the parent theme files that can be restored if something goes wrong during development", "Parent theme updates ONLY replace parent files — child theme overrides remain intact, preserving all your customizations", "WordPress prevents parent theme updates entirely when a child theme is activated to protect the development environment", "Child themes compile into the parent theme during activation, making them resistant to any update-related file changes"], c: 1 },
    { q: "The functions.php file uses add_action('after_setup_theme', 'mytheme_setup'). Why this specific hook?", o: ["It's the only hook available in functions.php — WordPress doesn't support any other initialization hooks in theme files", "after_setup_theme fires after the theme is loaded but before headers are sent — perfect timing for registering theme features like menus and thumbnails", "It fires after the page content is fully rendered, allowing the theme to modify the final HTML output before delivery", "This hook is optional — theme setup functions work identically when called outside any hook in the global scope"], c: 1 },
    { q: "wp_enqueue_script's last parameter is 'true'. What does this control?", o: ["Whether the script should be loaded — true means include it, false means skip loading it on the current page", "Whether to load the script in the footer (true) or header (false) — footer loading improves perceived page speed", "Whether the script should be minified — true triggers WordPress autopmatic minification during the enqueue process", "Whether to use async or defer attributes — true enables asynchronous loading, false defers execution to page load"], c: 1 },
    { q: "A theme's template-parts/ directory is used for:", o: ["Storing partial theme components like card layouts, hero sections, and post excerpts that can be reused via get_template_part()", "Holding temporary template files that WordPress automatically deletes after the theme compilation is completed", "Alternative templates that administrators can select from the WordPress dashboard without accessing code files directly", "Backup copies of main template files created automatically by WordPress during each theme update and deployment cycle"], c: 0 },
    { q: "register_nav_menus(['primary' => 'Primary Menu']) does what in the theme setup process?", o: ["Creates a new page in WordPress automatically and assigns it as the primary navigation for the entire website", "Registers a menu location that site admins can assign menus to via Appearance > Menus — the theme defines WHERE, admin defines WHAT", "Generates the full navigation HTML markup and inserts it into the header.php template automatically upon activation", "Downloads and installs a navigation menu plugin from the WordPress repository to handle all menu-related functionality"], c: 1 },
    { q: "You need to customize a parent theme's header.php. The proper method is:", o: ["Edit the parent theme's header.php directly since child themes can't override template files from their parent themes", "Copy header.php to your child theme directory — WordPress loads the child's version over the parent's automatically", "Use a plugin to inject code into the parent header.php since file overrides aren't supported in child theme architecture", "Create a file called custom-header.php in the child theme and WordPress will merge it with the parent's header.php"], c: 1 },
    { q: "add_theme_support('post-thumbnails') enables what functionality?", o: ["Automatic thumbnail generation for social media sharing platforms like Facebook and Twitter when content is posted", "Featured image support — allowing authors to set a representative image for posts/pages displayed via the_post_thumbnail()", "Thumbnail-sized previews in the WordPress admin dashboard post list for quick visual identification of content", "Image compression applied to all uploaded media files to reduce storage usage and improve page load performance"], c: 1 },
    { q: "get_template_directory_uri() vs get_stylesheet_directory_uri() — the critical difference when using child themes:", o: ["They're identical functions — WordPress provides both as aliases for backward compatibility with older theme frameworks", "get_template_directory_uri() points to the PARENT theme, get_stylesheet_directory_uri() points to the CHILD theme — using the wrong one loads wrong assets", "The first one loads templates while the second loads stylesheets — they're for different file types within themes", "The first uses absolute paths while the second uses relative paths depending on the WordPress installation location"], c: 1 },
];

const task5Quiz = [
    // Custom Post Types & Taxonomies
    { q: "A real estate site needs Properties, Agents, and Testimonials. Using standard Posts and Pages for this would fail because:", o: ["Posts and Pages can handle any content type if you use categories and tags creatively with custom page templates", "CPTs provide dedicated admin interfaces, custom fields, unique URL structures, and separate archives — mixing everything into Posts creates chaos", "WordPress limits Posts to 1000 entries which wouldn't scale for a real estate site with many property listings", "Posts can't have featured images or custom excerpts which are essential for real estate property display pages"], c: 1 },
    { q: "register_post_type() with 'public' => false and 'show_ui' => true creates a CPT that:", o: ["Is completely invisible — both false and true settings cancel each other out and WordPress ignores the registration", "Appears in wp-admin for editors but is NOT queryable on the frontend — useful for internal-only data types", "Is visible on the frontend but hidden from the admin dashboard to prevent accidental content editing by users", "Crashes WordPress because public=false and show_ui=true are contradictory settings that create a configuration conflict"], c: 1 },
    { q: "The 'supports' parameter in register_post_type controls which editor features appear. Omitting 'editor' means:", o: ["WordPress adds the editor by default — the supports parameter only adds EXTRA features beyond the standard set", "The post type will have NO content editor — only including 'title' and 'thumbnail' still gives you a title and featured image without body content", "WordPress throws an error since the editor is a required component for any registered content type to function", "The classic editor appears by default when the Gutenberg block editor support is not explicitly declared in supports"], c: 1 },
    { q: "hierarchical => true in register_taxonomy makes it behave like:", o: ["Tags — flat taxonomy with no parent-child relationships and a simple text input field for adding terms", "Categories — checkbox UI in editor, parent-child hierarchy, nested URL structure for organized content classification", "Neither — hierarchical only affects the database storage method without any visible impact on the editor interface", "A menu structure — creating navigation items automatically based on the terms added to the hierarchical taxonomy"], c: 1 },
    { q: "ACF's get_field('price') returns null on a portfolio post. The MOST likely cause is:", o: ["ACF is incompatible with custom post types and only works with default WordPress posts and pages content types", "The field group isn't assigned to the 'portfolio' post type — ACF field groups must be configured to show on specific post types", "get_field() only works inside the WordPress Loop — calling it outside the Loop always returns null regardless of field existence", "The field name has been cached incorrectly — clearing WordPress transients and object cache will resolve the null return value"], c: 1 },
    { q: "You register a CPT but its archive page shows 404. The fix is:", o: ["Create a PHP file called archive-{post-type}.php in the theme since WordPress requires custom archive templates for all CPTs", "Flush rewrite rules — go to Settings > Permalinks and click Save to regenerate WordPress URL routing rules for the new CPT", "Add 'has_archive' => true is already set — the 404 means the CPT registration has a syntax error in the labels array", "WordPress doesn't support archive pages for CPTs — you need to create a custom page template and WP_Query to fake it"], c: 1 },
    { q: "WP_Query with 'post_type' => 'portfolio' and 'posts_per_page' => -1 does what?", o: ["Returns the first 10 portfolio posts since WordPress ignores the -1 flag and uses the default reading settings fallback", "Returns ALL published portfolio posts with no pagination limit — useful for portfolio grids but risky on sites with thousands of posts", "Throws a PHP error because negative values aren't valid for the posts_per_page parameter in WP_Query arguments array", "Returns only draft portfolio posts since -1 inverts the default post_status filter from published to draft content"], c: 1 },
    { q: "the_field() vs get_field() in ACF — when to use which:", o: ["They're identical — use either one interchangeably in any context without any functional difference in output", "the_field() echoes the value directly into HTML output, get_field() returns it for PHP processing — echo vs return distinction", "the_field() is deprecated in ACF Pro — always use get_field() with echo for all output scenarios going forward", "the_field() works only in templates while get_field() works only in functions.php and plugin files for data retrieval"], c: 1 },
    { q: "A CPT 'event' with rewrite => ['slug' => 'events'] creates URLs like:", o: ["example.com/?post_type=event because custom rewrite slugs only work with pretty permalinks enabled in WordPress settings", "example.com/events/event-name/ — the rewrite slug replaces the default post type name in the URL for cleaner permalinks", "example.com/event/event-name/ ignoring the rewrite setting since WordPress always uses the post_type name for URLs", "example.com/events/ only for the archive page — individual event posts still use the default post_type slug in their URLs"], c: 1 },
    { q: "Exporting ACF field groups as PHP is recommended because:", o: ["PHP exports load faster than database-stored field groups since they skip the wp_options lookup on every page request", "It enables version control — field group definitions go into Git, making them trackable, deployable, and recoverable across environments", "ACF stops working after 100 field groups stored in the database so PHP export is required for scaling beyond that limit", "PHP-exported fields can't be accidentally deleted by admin users through the ACF interface unlike database-stored field groups"], c: 1 },
];

const task6Quiz = [
    // WooCommerce Development
    { q: "WooCommerce stores orders as 'shop_order' in wp_posts. The advantage of this CPT-based approach is:", o: ["It's a legacy design flaw — WooCommerce should use custom tables for orders to avoid mixing content and transaction data", "Unified querying with WP_Query, built-in revision support, and meta storage via wp_postmeta — leveraging WordPress core for commerce data", "It has no advantages — WooCommerce plans to deprecate wp_posts storage in favor of custom order tables in upcoming versions", "It prevents direct database queries which forces developers to always use the WooCommerce API for any order-related operations"], c: 1 },
    { q: "You need to add a 'Gift Message' field to the WooCommerce checkout. The correct hook is:", o: ["wp_head — adding form fields to the HTML head ensures they load before the checkout page body content is rendered", "woocommerce_checkout_fields — this filter lets you add, remove, or modify checkout form fields without editing template files", "woocommerce_thankyou — this action fires on the thank-you page which is the correct place for post-checkout customizations", "init — all WooCommerce form modifications must be registered during WordPress initialization before any page templates load"], c: 1 },
    { q: "To customize the WooCommerce product page template safely, you should:", o: ["Edit the file directly at wp-content/plugins/woocommerce/templates/single-product.php for immediate production changes", "Copy the template to your-theme/woocommerce/single-product.php — WordPress loads your override over the plugin's version", "Use the WordPress Customizer to drag and drop product page elements into the layout you want without any code changes", "Create a custom shortcode in functions.php that replaces the entire product page since template overrides are unreliable"], c: 1 },
    { q: "WC_Payment_Gateway requires process_payment() method. This method is responsible for:", o: ["Displaying the payment form fields on the checkout page for customers to enter their credit card information", "Processing the actual payment — communicating with the payment API, updating order status, and returning success or failure result", "Generating the invoice PDF that gets emailed to the customer after their order is successfully placed and confirmed", "Validating the customer's billing address against their payment method to prevent fraud before the transaction is processed"], c: 1 },
    { q: "A variable product in WooCommerce uses product_variation as child posts. This means:", o: ["Each variation (Size: Large, Color: Red) is a separate post in wp_posts with its own price, SKU, and stock — linked to the parent product", "Variations are stored in wp_options as serialized arrays since they're configuration settings rather than content entities", "Variable products can only have 2 variation axes — combining more than 2 attributes creates performance issues in WooCommerce", "The parent product post stores all variation data in a single wp_postmeta row as a JSON string for efficient database querying"], c: 0 },
    { q: "The hook woocommerce_product_add_to_cart_text is a:", o: ["Action hook — it triggers custom code when a product is added to the cart by the customer on the shop page", "Filter hook — it lets you change the 'Add to Cart' button text by returning a modified string from your callback function", "Template tag — it outputs the add-to-cart button HTML directly into the product template wherever it's called", "JavaScript event — it fires in the browser when the add-to-cart button is clicked, enabling frontend-only customizations"], c: 1 },
    { q: "woocommerce_product_tabs filter allows you to:", o: ["Create new pages in the WooCommerce admin panel for managing product-related settings and configuration options", "Add, remove, or reorder tabs on the single product page — like adding a 'Size Guide' or 'Warranty Info' tab with custom content", "Change the tab navigation style from horizontal to vertical layout on the product page using a CSS class parameter", "Control which products appear in the 'Related Products' tab based on shared categories or tags within the catalog"], c: 1 },
    { q: "A client wants free shipping over ₹999. The developer approach vs admin approach:", o: ["Developers should always hard-code shipping rules in functions.php since the WooCommerce shipping settings are too limited", "Configure it through WooCommerce Shipping Zones + Free Shipping method with minimum amount condition — no code needed for standard rules", "Create a custom shipping plugin from scratch since WooCommerce's built-in shipping system doesn't support conditional free shipping", "Write a custom SQL query that modifies the order total at checkout to subtract shipping charges when the threshold is met"], c: 1 },
    { q: "WooCommerce REST API v3 enables what capability for headless commerce?", o: ["Nothing meaningful — WooCommerce REST API is only for internal WordPress admin operations and not for external applications", "Building custom storefronts with React, Next.js, or mobile apps that fetch products, manage carts, and process orders via HTTP endpoints", "Automatically syncing WooCommerce inventory with Shopify stores for multi-platform selling without manual data entry", "Generating SEO sitemaps for WooCommerce products that are more optimized than the default WordPress XML sitemaps"], c: 1 },
    { q: "WC()->cart->get_total() returns a string like '₹1,999.00'. In a custom gateway, converting this to a numeric value requires:", o: ["No conversion needed — PHP automatically treats formatted currency strings as numbers in arithmetic calculations", "Using wc_format_decimal() or strip/parse the currency symbol and formatting since passing formatted strings to payment APIs causes errors", "Dividing by 100 since WooCommerce internally stores all prices in cents/paise rather than the display currency format", "Calling intval() which handles currency formatting, thousand separators, and decimal points automatically in PHP"], c: 1 },
];

const task7Quiz = [
    // Plugin Development
    { q: "A WordPress plugin's header comment (Plugin Name, Version, Description) is located in:", o: ["A separate manifest.json file in the plugin directory following the WordPress plugin packaging specification standard", "The main plugin PHP file — WordPress reads this comment block to identify the plugin in the admin Plugins page", "The readme.txt file that's required for all plugins to be recognized by the WordPress plugin detection system", "wp-config.php where all plugin registrations must be manually declared by the developer for WordPress to load them"], c: 1 },
    { q: "register_activation_hook() runs code when a plugin is activated. A common use case is:", o: ["Adding admin menu items to the WordPress dashboard since menus can only be registered during the activation event", "Creating custom database tables or setting default options — one-time setup that shouldn't run on every page load", "Loading the plugin's CSS and JavaScript files into the WordPress enqueue system for frontend page rendering", "Registering custom post types since CPTs must be created during activation and can't be registered on init hook"], c: 1 },
    { q: "Actions vs Filters in WordPress: add_action fires code at a point, add_filter modifies data. Which example is a FILTER?", o: ["add_action('wp_footer', 'add_tracking_code') — injects analytics JavaScript before the closing body tag on pages", "add_filter('the_content', 'add_cta_after_post') — takes the post content string, appends a call-to-action, and returns modified content", "add_action('save_post', 'notify_admin') — sends email notification to admin whenever a post is published or updated", "add_action('init', 'register_my_cpt') — runs during WordPress initialization to register a custom post type"], c: 1 },
    { q: "A plugin creates a custom database table using $wpdb->query(). The table should use:", o: ["A hardcoded name like 'my_plugin_data' since all WordPress sites use the same default database and table prefix", "$wpdb->prefix . 'my_plugin_data' — respecting the site's table prefix ensures compatibility with multisite and custom configurations", "The wp_options table instead — custom tables are discouraged in WordPress plugin development best practices guidelines", "A completely separate database connection since plugin tables shouldn't share the same database as WordPress core tables"], c: 1 },
    { q: "Plugin deactivation vs uninstall — the critical difference:", o: ["They're the same event — WordPress calls both hooks simultaneously when a plugin is deactivated by the admin", "Deactivation is temporary (preserve data), uninstall is permanent (clean up tables, options, and all plugin data completely)", "Deactivation deletes the plugin files while uninstall only removes database entries created by the plugin during its lifetime", "Uninstall runs automatically 30 days after deactivation to give admins time to decide whether to keep the plugin data"], c: 1 },
    { q: "WordPress nonces in plugins prevent:", o: ["SQL injection attacks — nonces sanitize database queries by adding parameterized escape sequences to SQL statements", "CSRF attacks — nonces verify that form submissions and AJAX requests originate from the actual WordPress site, not forged third-party requests", "XSS attacks — nonces filter HTML output to prevent malicious scripts from being injected into page content by users", "Brute force login attacks — nonces add rate limiting to the WordPress login form to prevent automated password guessing"], c: 1 },
    { q: "A plugin adds an admin page using add_menu_page(). The 'capability' parameter controls:", o: ["How the menu item visually appears in the WordPress admin sidebar including its icon, position, and color styling", "WHO can access the page — 'manage_options' restricts to admins, 'edit_posts' allows editors, enabling role-based access control", "How many times the page can be loaded per session to prevent performance issues from frequent admin page requests", "Whether the menu appears in the main sidebar or the Settings submenu based on the capability string value provided"], c: 1 },
    { q: "wp_ajax_ and wp_ajax_nopriv_ hooks differ in that:", o: ["wp_ajax_ handles GET requests while wp_ajax_nopriv_ handles POST requests for the same AJAX endpoint action", "wp_ajax_ fires for logged-in users only, wp_ajax_nopriv_ fires for non-logged-in visitors — both are needed for public AJAX features", "wp_ajax_ is for admin-side AJAX while wp_ajax_nopriv_ is for frontend AJAX regardless of the user's login status", "They're interchangeable — WordPress routes all AJAX requests through both hooks simultaneously for redundancy purposes"], c: 1 },
    { q: "Shortcodes registered with add_shortcode() should RETURN content, not ECHO it. Why?", o: ["Echoing works identically to returning — the distinction is a coding style preference with no functional impact on output", "Echoing outputs content at the wrong position in the page — shortcodes must return strings so WordPress inserts them at the correct location", "Echoing causes PHP fatal errors in WordPress because the shortcode system uses output buffering that conflicts with echo statements", "Returning content is deprecated — modern WordPress uses the_shortcode() which requires echo for proper output rendering"], c: 1 },
    { q: "A well-structured plugin follows which directory organization?", o: ["All code in one single PHP file — WordPress plugins should be monolithic for simpler maintenance and fewer file operations", "Main file + includes/ (classes), assets/ (CSS/JS), templates/ (views) — separation of concerns for maintainability and testability", "WordPress auto-generates the directory structure during activation so developers don't need to plan file organization manually", "Code split by Hook type — actions/ and filters/ directories containing one file per hook registered by the plugin system"], c: 1 },
];

// Insert quiz variables and update allQuizzes
const quizVars = { task2Quiz, task3Quiz, task4Quiz, task5Quiz, task6Quiz, task7Quiz };

for (const [name, questions] of Object.entries(quizVars)) {
    const qStr = questions.map(q => {
        const opts = q.o.map(o => `"${o.replace(/"/g, '\\"')}"`).join(', ');
        return `    { q: "${q.q.replace(/"/g, '\\"')}", o: [${opts}], c: ${q.c} }`;
    }).join(',\n');

    const varDef = `const ${name} = [\n${qStr}\n];\n`;

    // Insert before allQuizzes
    const aqIdx = c.indexOf('const allQuizzes');
    c = c.substring(0, aqIdx) + varDef + '\n' + c.substring(aqIdx);
    console.log(`✅ ${name} (${questions.length}q)`);
}

// Update allQuizzes to reference new vars
c = c.replace(
    /const allQuizzes = \[[\s\S]*?\];/,
    `const allQuizzes = [
    task0Quiz,
    task2Quiz,
    task3Quiz,
    task4Quiz,
    task5Quiz,
    task6Quiz,
    task7Quiz,
    [] /* task8 - Security */,
    [] /* task9 - Performance */,
    [] /* task10 - REST API */,
    [] /* task11 - Deployment */
];`
);

fs.writeFileSync(fp, c);
console.log('\nPart 1 done — tasks 2-7 written');
